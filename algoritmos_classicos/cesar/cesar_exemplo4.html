<!DOCTYPE html>
<html>
    <title>
        Exemplo 1
    </title>
    <body>
        <div>
                <h1>Cifra de César - Exemplo 4</h1>
                <div>
                    <label>Chave:</label>
                    <input type="number" value="3" id="campoChave">
                </div>

                <br>

                <div>
                    <label id="lblTextoOriginal" for="campoTexto">Texto Original</label>
                    <textarea id="campoTexto" name="campoTexto" rows="4" cols="50"></textarea>
                    <input id="btnCifrar" value="Cifrar" type="button" onclick="cifrar()"/> 
                </div>
          
               <br>
             
                <div>
                    <label id="lblTextoCifrado" for="txaTextoCifrado">Texto Cifrado</label>
                    <textarea id="txaTextoCifrado" name="txaTextoCifrado" rows="4" cols="50"></textarea>
                    <input id="btnCifrar" value="Decifrar" type="button" onclick="deCifrar()"/> 
                </div>

        </div>
    </body>
    <script type="text/javascript">
        var alfabeto = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        function cifrar(){

            alert("Clicou no botão cifrar!!!");
            var texto = document.getElementById('campoTexto').value 
            
            texto = texto.toUpperCase()

            var textoCifrado = "";
            var chave = parseInt(document.getElementById("campoChave").value);

            for(var i = 0; i < texto.length; i++){
                
                var indice = alfabeto.indexOf(texto[i])
                if(indice > -1){
                    //Math.abs
                    var posicao = ((indice + chave) % 26)
                    if(posicao < 0){
                        posicao = posicao + 26
                    }
                    //alert(posicao)
                    textoCifrado = textoCifrado + alfabeto[posicao];
                    
                }else{
                    textoCifrado = textoCifrado + texto[i];
                }
                
            }

            document.getElementById("txaTextoCifrado").value = textoCifrado
        }
        function deCifrar(){

            alert("Clicou no botão decifrar !!!");
        }

    </script>

</html>